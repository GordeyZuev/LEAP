# ============================================================================
# LEAP API - Environment Configuration Example
# ============================================================================
# Copy this file to .env and fill in your values
# Most settings have sensible defaults in config/settings.py
# Only override what you need to change
# ============================================================================

# ============================================================================
# IMPORTANT NOTES
# ============================================================================
# - Do NOT use list syntax like ["item1", "item2"] - it will cause JSON parse errors
# - For list-type settings (CORS, formats), use defaults from code or comma-separated strings
# - For local development, use the minimal configuration below
# - For production, add all security-related settings
# ============================================================================


# ============================================================================
# APP SETTINGS
# ============================================================================

# Debug mode - set to true for local development, false for production
APP_DEBUG=false

# Application timezone (pytz format)
APP_TIMEZONE=Europe/Moscow


# ============================================================================
# SERVER SETTINGS
# ============================================================================

SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# Auto-reload on code changes (enable for local development)
SERVER_RELOAD=false

# Number of Uvicorn workers (use 1 for local dev, 4+ for production)
SERVER_WORKERS=4

# CORS settings - DO NOT set these unless needed (defaults are ["*"] which works for dev)
# If you need to override, use comma-separated format like: http://localhost:3000,http://localhost:8080
# SERVER_CORS_ORIGINS=http://localhost:3000,http://localhost:8080


# ============================================================================
# DATABASE SETTINGS (PostgreSQL)
# ============================================================================

DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_DATABASE=zoom_manager
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=your_secure_password_here

# Connection pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10


# ============================================================================
# REDIS SETTINGS
# ============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=


# ============================================================================
# CELERY SETTINGS
# ============================================================================

# Broker and backend
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Worker settings
CELERY_WORKER_CONCURRENCY=8

# Task retry settings (optional, defaults are sensible)
# CELERY_TASK_DEFAULT_MAX_RETRIES=3
# CELERY_DOWNLOAD_MAX_RETRIES=3
# CELERY_PROCESSING_MAX_RETRIES=2
# CELERY_UPLOAD_MAX_RETRIES=5


# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# JWT settings - CHANGE SECRET IN PRODUCTION!
SECURITY_JWT_SECRET_KEY=your-super-secret-jwt-key-min-32-characters-change-me-in-production

# Password hashing (BCrypt rounds: 4 for dev, 12 for production)
SECURITY_BCRYPT_ROUNDS=12

# Encryption key for credentials (REQUIRED). Fernet key, base64-encoded 32 bytes.
# Generate: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
SECURITY_ENCRYPTION_KEY=

# Previous encryption key for rotation (optional). Set when migrating to a new key.
# SECURITY_ENCRYPTION_KEY_OLD=

# Rate limiting (disable for local dev, enable for production)
SECURITY_RATE_LIMIT_ENABLED=true


# ============================================================================
# STORAGE SETTINGS
# ============================================================================

# Storage backend type: LOCAL or S3
STORAGE_TYPE=LOCAL

# ---- LOCAL Storage Configuration ----
# Path to store files locally
STORAGE_LOCAL_PATH=storage

# Optional: Max storage quota in GB (unlimited if not set)
# STORAGE_LOCAL_MAX_SIZE_GB=1000

# ---- S3 Storage Configuration ----
# Only needed if STORAGE_TYPE=S3

# S3 bucket name
# STORAGE_S3_BUCKET=my-bucket

# S3 key prefix (folder structure inside bucket)
# STORAGE_S3_PREFIX=storage

# AWS region
# STORAGE_S3_REGION=us-east-1

# Optional: Max S3 storage quota in GB
# STORAGE_S3_MAX_SIZE_GB=5000

# AWS credentials (or use IAM role)
# STORAGE_S3_ACCESS_KEY_ID=
# STORAGE_S3_SECRET_ACCESS_KEY=

# Optional: Custom S3 endpoint (for S3-compatible services like MinIO)
# STORAGE_S3_ENDPOINT_URL=

# ---- Legacy Storage Settings (for backward compatibility) ----
# STORAGE_MAX_UPLOAD_SIZE_MB=5000

# DO NOT set STORAGE_SUPPORTED_VIDEO_FORMATS or STORAGE_SUPPORTED_IMAGE_FORMATS
# These are list-type settings and will cause errors
# Defaults: mp4,avi,mov,mkv,webm,m4v (video) and jpg,jpeg,png,gif (images)


# ============================================================================
# LOGGING SETTINGS
# ============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOGGING_LEVEL=INFO


# ============================================================================
# MONITORING SETTINGS
# ============================================================================

# Disable for local development
MONITORING_ENABLED=false

# Optional: Sentry for error tracking (production only)
# MONITORING_SENTRY_DSN=
# MONITORING_SENTRY_ENVIRONMENT=production


# ============================================================================
# OAUTH SETTINGS (optional - only if using OAuth)
# ============================================================================

# Base URL for OAuth callbacks
# OAUTH_BASE_URL=http://localhost:8000

# YouTube OAuth (leave empty if not used)
# OAUTH_YOUTUBE_CLIENT_ID=
# OAUTH_YOUTUBE_CLIENT_SECRET=

# VK OAuth (leave empty if not used)
# OAUTH_VK_CLIENT_ID=
# OAUTH_VK_CLIENT_SECRET=

# Zoom OAuth (leave empty if not used)
# OAUTH_ZOOM_CLIENT_ID=
# OAUTH_ZOOM_CLIENT_SECRET=


# ============================================================================
# FEATURE FLAGS (optional - use defaults)
# ============================================================================

# Most features are enabled by default
# Override only if you need to disable something

# FEATURE_AUTO_TRANSCRIPTION=true
# FEATURE_AUTOMATION_ENABLED=true


# ============================================================================
# PROCESSING SETTINGS (optional - use defaults)
# ============================================================================

# Keep temp files for debugging (set to false in production)
# PROCESSING_KEEP_TEMP_FILES=false


# ============================================================================
# LEGACY SETTINGS (for backwards compatibility)
# ============================================================================
# Logger (logger.py)
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
ERROR_LOG_FILE=logs/error.log

# docker-compose only
DB_PASSWORD=your_secure_password_here
